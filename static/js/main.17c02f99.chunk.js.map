{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","images/img-placeholder.jpg","components/Spinner.js","images/avatar.jpg","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","utils/utils.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardConfirmPopup.js","components/App.js","index.js"],"names":["Header","className","href","target","src","logo","alt","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","React","useState","link","imgLink","setImgLink","currentUser","useContext","isOwn","owner","_id","cardDeleteBtnClassName","isLiked","likes","some","item","cardLikeBtnClassName","onMouseDown","evt","preventDefault","onClick","action","type","aria-label","name","onError","length","Spinner","Main","isLoading","cards","onEditAvatar","onEditProfile","onAddPlace","props","tabIndex","avatar","userAvatarPlaceholder","about","map","Footer","Date","getFullYear","ImagePopup","onClose","targetCard","setTargetCard","useEffect","classList","contains","api","url","token","this","_url","_token","res","textErr","ok","json","Promise","reject","Error","status","statusText","fetch","headers","then","_getResponseBody","userData","method","body","JSON","stringify","cardData","cardId","likeStatus","authorization","PopupWithForm","isOpen","title","onSubmit","noValidate","children","EditProfilePopup","onUpdateUser","value","valid","validationMessage","setName","description","setDescription","isValid","id","placeholder","minLength","maxLength","onChange","validity","required","disabled","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","validObj","setValidObj","current","ref","AddPlacePopup","onAddPlaceSubmit","setLink","DeleteCardConfirmPopup","onDeleteCardSubmit","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","isDeleteCardConfirmPopupOpen","closeAllPopups","handleCardDelete","deleteCard","state","filter","catch","err","console","log","all","getUserData","getInitialCards","initialCards","finally","Provider","changeLikeCardStatus","newCard","newAvatar","updateAvatar","newUserData","updateUserData","addCard","ReactDOM","render","StrictMode","document","querySelector"],"mappings":"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","file":"static/js/main.17c02f99.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from 'react';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header root__header\">\r\n      <a href=\"#anchor\" className=\"header__logo-link\" target=\"_self\">\r\n        <img src={logo} className=\"header__logo\" alt=\"логотип\" />\r\n      </a>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import { createContext } from \"react\";\r\n\r\nexport const CurrentUserContext = createContext();\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport imagePlaceholder from '../images/img-placeholder.jpg';\r\n\r\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\r\n  const [imgLink, setImgLink] = React.useState(card.link);\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteBtnClassName = `elements__delete-btn ${isOwn && 'elements__delete-btn_visible'}`;\r\n  const isLiked = card.likes.some(item => item._id === currentUser._id);\r\n  const cardLikeBtnClassName = `elements__like-btn ${isLiked && 'elements__like-btn_active'}`;\r\n\r\n  function handleImgClick() {\r\n    onCardClick({\r\n      action: 'open',\r\n      ...card\r\n    });\r\n  }\r\n\r\n  function handleErrorImgLoading() {\r\n    setImgLink(imagePlaceholder);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card, isLiked);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardClick({\r\n      action: 'delete',\r\n      ...card\r\n    });\r\n  }\r\n\r\n  return (\r\n    <li className=\"elements__item\">\r\n      <article>\r\n        <button\r\n          className={cardDeleteBtnClassName}\r\n          onMouseDown={evt => evt.preventDefault()}\r\n          onClick={handleDeleteClick}\r\n          type=\"button\"\r\n          aria-label=\"Удалить\"\r\n        ></button>\r\n        <img\r\n          className=\"elements__item-img\"\r\n          src={imgLink}\r\n          alt={card.name}\r\n          onError={handleErrorImgLoading}\r\n          onClick={handleImgClick}\r\n        />\r\n        <div className=\"elements__row\">\r\n          <h2 className=\"elements__item-title\">{card.name}</h2>\r\n          <div className=\"elements__column\">\r\n            <button\r\n              className={cardLikeBtnClassName}\r\n              onMouseDown={evt => evt.preventDefault()}\r\n              onClick={handleLikeClick}\r\n              type=\"button\"\r\n              aria-label=\"Нравится\"\r\n            ></button>\r\n            <span className=\"elements__likes-count\">{card.likes.length}</span>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","export default \"data:image/jpeg;base64,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\"","import React from 'react';\r\n\r\nfunction Spinner() {\r\n\r\n  return (\r\n    <div className=\"elements__spinner\">\r\n      <span />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Spinner;\r\n","export default __webpack_public_path__ + \"static/media/avatar.bbe7c5b6.jpg\";","import React from 'react';\r\nimport Card from './Card.js';\r\nimport Spinner from './Spinner.js';\r\nimport userAvatarPlaceholder from '../images/avatar.jpg';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main({isLoading, cards, onEditAvatar, onEditProfile, onAddPlace, ...props}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content root__content\">\r\n\r\n      <section className=\"profile content__profile\">\r\n        <div className=\"profile__user-data\">\r\n          <div className=\"profile__cover\"\r\n            tabIndex={0}\r\n            onClick={onEditAvatar}\r\n          >\r\n            <img src={currentUser?.avatar || userAvatarPlaceholder} alt=\"аватар пользователя\" className=\"profile__avatar\" />\r\n          </div>\r\n          <div className=\"profile__column\">\r\n            <div className=\"profile__row\">\r\n              <h1 className=\"profile__user-name\">{currentUser?.name || 'Жак-Ив Кусто'}</h1>\r\n              <button\r\n                className=\"profile__edit-btn\"\r\n                type=\"button\"\r\n                aria-label=\"Изменить данные пользовтеля\"\r\n                onClick={onEditProfile}\r\n              />\r\n            </div>\r\n            <p className=\"profile__user-status\">{currentUser?.about || 'Исследователь океана'}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"profile__add-btn\"\r\n          type=\"button\"\r\n          aria-label=\"Добавить место\"\r\n          onClick={onAddPlace}\r\n        />\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        {\r\n          isLoading ? (\r\n              <Spinner />\r\n            ) :\r\n            cards.length ? (\r\n              <ul className=\"elements__list\">\r\n                {cards.map(card => (\r\n                  <Card\r\n                    key={card._id}\r\n                    card={card}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </ul>\r\n            ) : (\r\n              <p className=\"elements__text-notification\">Нет добавленных мест</p>\r\n            )\r\n        }\r\n      </section>\r\n\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© {new Date().getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import { useEffect, useState } from 'react';\r\n\r\nfunction ImagePopup({card, onClose}) {\r\n  const [targetCard, setTargetCard] = useState(null);\r\n\r\n  function handlePopupOverlayClick(evt) {\r\n    if (evt.target.classList.contains('popup')) onClose();\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (card) setTargetCard(card);\r\n  }, [card]);\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup_type_zoom-img ${card?.action === 'open' && 'popup_opened'}`}\r\n      onClick={handlePopupOverlayClick}\r\n    >\r\n      <div className=\"popup__img-container\">\r\n        <img className=\"popup__img\" src={targetCard?.link} alt={targetCard?.name} />\r\n        <p className=\"popup__img-caption\">{targetCard?.name}</p>\r\n        <button\r\n          className=\"popup__close-btn\"\r\n          type=\"button\"\r\n          aria-label=\"Закрыть окно просмотра фотографии\"\r\n          onClick={onClose}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import {apiConfig} from './utils.js';\r\n\r\nclass Api {\r\n  constructor({url, token}) {\r\n    this._url = url;\r\n    this._token = token;\r\n  }\r\n\r\n  _getResponseBody(res, textErr) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка ${textErr}: ${res.status} - ${res.statusText}`));\r\n  }\r\n\r\n  getUserData() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: this._token\r\n    })\r\n      .then((res) => this._getResponseBody(res, 'getUserData'));\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      headers: this._token\r\n    })\r\n      .then((res) => this._getResponseBody(res, 'getInitialCards'));\r\n  }\r\n\r\n  updateUserData(userData) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        ...this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(userData)\r\n    })\r\n      .then((res) => this._getResponseBody(res, 'updateUserData'));\r\n  }\r\n\r\n  updateAvatar(avatar) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        ...this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(avatar)\r\n    })\r\n      .then((res) => this._getResponseBody(res, 'updateAvatar'));\r\n  }\r\n\r\n  addCard(cardData) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        ...this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(cardData)\r\n    })\r\n      .then((res) => this._getResponseBody(res, 'sendNewCard'));\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._token\r\n    })\r\n      .then((res) => this._getResponseBody(res, 'deleteCard'))\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, likeStatus) {\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      method: likeStatus ? 'PUT' : 'DELETE',\r\n      headers: this._token\r\n    })\r\n      .then((res) => this._getResponseBody(res, 'changeLikeCardStatus'))\r\n  }\r\n}\r\n\r\nconst api = new Api(apiConfig);\r\n\r\nexport default api;\r\n","const submitButtonTextConfig = {\r\n  popupEditAvatar: {\r\n    default: 'Сохранить',\r\n    submitProcess: 'Сохранение...',\r\n    ready: 'Готово'\r\n  },\r\n  popupEditProfile: {\r\n    default: 'Сохранить',\r\n    submitProcess: 'Сохранение...',\r\n    ready: 'Готово'\r\n  },\r\n  popupCreateCard: {\r\n    default: 'Создать',\r\n    submitProcess: 'Создание...',\r\n    ready: 'Готово'\r\n  },\r\n  popupConfirmDeleteCard: {\r\n    default: 'Да',\r\n    submitProcess: 'Удаление...',\r\n    ready: 'Готово'\r\n  }\r\n}\r\n\r\nconst apiConfig = {\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-20',\r\n  token: {authorization: '614d3213-6f90-4cae-80f4-7341542ff306'}\r\n}\r\n\r\nexport {\r\n    submitButtonTextConfig,\r\n    apiConfig\r\n};\r\n","// import React, { useState } from  'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  // const [isValid, setIsValid] = useState(false);\r\n\r\n  function handlePopupOverlayClick(evt) {\r\n    if (evt.target.classList.contains('popup')) props.onClose();\r\n  }\r\n\r\n  // function validateForm(evt) {\r\n  //   setIsValid(evt.currentTarget.checkValidity());\r\n  //   console.log(isValid);\r\n  // }\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}\r\n      onMouseDown={handlePopupOverlayClick}\r\n    >\r\n      <div className=\"popup__form-container\">\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <form\r\n          className=\"popup__form\"\r\n          name={props.name}\r\n          // onChange={validateForm}\r\n          onSubmit={props.onSubmit}\r\n          noValidate\r\n        >\r\n          {props.children}\r\n        </form>\r\n        <button\r\n          className=\"popup__close-btn\"\r\n          type=\"button\"\r\n          aria-label={`Закрыть окно \"${props.name}\"`}\r\n          onClick={props.onClose}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import { useContext, useEffect, useState } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction EditProfilePopup({onUpdateUser, ...props}) {\r\n  const [name, setName] = useState({value: '', valid: false, validationMessage: ''});\r\n  const [description, setDescription] = useState({value: '', valid: false, validationMessage: ''});\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isValid = name.valid && description.valid;\r\n\r\n  function handleNameChange(evt) {\r\n    setName({\r\n      value: evt.target.value,\r\n      valid: evt.target.validity.valid,\r\n      validationMessage: evt.target.validationMessage\r\n    });\r\n  }\r\n\r\n  function handleDescriptionChange(evt) {\r\n    setDescription({\r\n      value: evt.target.value,\r\n      valid: evt.target.validity.valid,\r\n      validationMessage: evt.target.validationMessage\r\n    });\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser({\r\n      name: name.value,\r\n      about: description.value\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      setName({value: currentUser.name, valid: true, validationMessage: ''});\r\n      setDescription({value: currentUser.about, valid: true, validationMessage: ''});\r\n    }\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n      onSubmit={handleSubmit}\r\n      {...props}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input\r\n          className=\"popup__input popup__input_type_user-name\"\r\n          id=\"username-input\"\r\n          name=\"userName\"\r\n          type=\"text\"\r\n          placeholder=\"Имя\"\r\n          minLength={2}\r\n          maxLength={40}\r\n          value={name.value}\r\n          onChange={handleNameChange}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error\" id=\"username-input-error\">\r\n          {name.validationMessage}\r\n        </span>\r\n      </label>\r\n      <label className=\"popup__field\">\r\n        <input\r\n          className=\"popup__input popup__input_type_status\"\r\n          id=\"status-input\"\r\n          name=\"status\"\r\n          type=\"text\"\r\n          placeholder=\"О себе\"\r\n          minLength={2}\r\n          maxLength={200}\r\n          value={description.value}\r\n          onChange={handleDescriptionChange}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error\" id=\"status-input-error\">\r\n          {description.validationMessage}\r\n        </span>\r\n      </label>\r\n      <button className={`popup__submit-btn ${!isValid && 'popup__submit-btn_disabled'}`} type=\"submit\" disabled={!isValid}>Сохранить</button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({onUpdateAvatar, ...props}) {\r\n  const inputRef = useRef();\r\n\r\n  const [validObj, setValidObj] = useState({valid: false, validationMessage: ''});\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: inputRef.current.value\r\n    });\r\n  }\r\n\r\n  function handleChange() {\r\n    setValidObj({\r\n      valid: inputRef.current.validity.valid,\r\n      validationMessage: inputRef.current.validationMessage\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (props.isOpen) {\r\n      inputRef.current.value='';\r\n      setValidObj({valid: false, validationMessage: ''});\r\n    }\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-avatar\"\r\n      title=\"Обновить аватар\"\r\n      onSubmit={handleSubmit}\r\n      {...props}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input\r\n          ref={inputRef}\r\n          className=\"popup__input popup__input_type_avatar-link\"\r\n          id=\"avatarLink-input\"\r\n          name=\"avatar\"\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error\" id=\"avatarLink-input-error\">\r\n          {validObj.validationMessage}\r\n        </span>\r\n      </label>\r\n      <button\r\n        className={`popup__submit-btn ${!validObj.valid && 'popup__submit-btn_disabled'}`}\r\n        type=\"submit\"\r\n        disabled={!validObj.valid}\r\n      >\r\n        Сохранить\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import { useEffect, useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\n// function useValidation(evt, initialValid) {\r\n//   const [valuesObj, setValuesObj] = useState({});\r\n//   const [valid, setValid] = useState(initialValid);\r\n//   const [validMessagesObj, setValidMessagesObj] = useState({});\r\n\r\n//   useEffect(() => {\r\n//     setValuesObj(state => state[evt.target.name] = evt.target.value);\r\n//     setValidMessagesObj(state => state[evt.target.name] = evt.target.validationMessage);\r\n\r\n//   }, [evt]);\r\n\r\n//   return {valuesObj, valid, validMessagesObj};\r\n// }\r\n\r\nfunction AddPlacePopup({onAddPlaceSubmit,...props}) {\r\n  const [name, setName] = useState({value: '', valid: false, validationMessage: ''});\r\n  const [link, setLink] = useState({value: '', valid: false, validationMessage: ''});\r\n  const isValid = name.valid && link.valid;\r\n\r\n  // const [event, setEvent] = useState();\r\n  // const {valuesObj, valid, validMessagesObj} = useValidation(event, false);\r\n  // function handleChange(evt) {\r\n  //   setEvent(evt);\r\n  // }\r\n\r\n  function handleNameChange(evt) {\r\n    setName({\r\n      value: evt.target.value,\r\n      valid: evt.target.validity.valid,\r\n      validationMessage: evt.target.validationMessage\r\n    });\r\n  }\r\n\r\n  function handleLinkChange(evt) {\r\n    setLink({\r\n      value: evt.target.value,\r\n      valid: evt.target.validity.valid,\r\n      validationMessage: evt.target.validationMessage\r\n    });\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onAddPlaceSubmit({\r\n      name: name.value,\r\n      link: link.value\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (props.isOpen) {\r\n      setName({value: '', valid: false, validationMessage: ''});\r\n      setLink({value: '', valid: false, validationMessage: ''});\r\n    }\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"create-card\"\r\n      title=\"Новое место\"\r\n      onSubmit={handleSubmit}\r\n      {...props}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input\r\n          className=\"popup__input popup__input_type_place-name\"\r\n          id=\"placeName-input\"\r\n          name=\"name\"\r\n          type=\"text\"\r\n          placeholder=\"Название\"\r\n          minLength={2}\r\n          maxLength={30}\r\n          value={name.value}\r\n          onChange={handleNameChange}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error\" id=\"placeName-input-error\">\r\n          {name.validationMessage}\r\n        </span>\r\n      </label>\r\n      <label className=\"popup__field\">\r\n        <input\r\n          className=\"popup__input popup__input_type_img-link\"\r\n          id=\"imgLink-input\"\r\n          name=\"link\"\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          value={link.value}\r\n          onChange={handleLinkChange}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error\" id=\"imgLink-input-error\">\r\n          {link.validationMessage}\r\n        </span>\r\n      </label>\r\n      <button className={`popup__submit-btn ${!isValid && 'popup__submit-btn_disabled'}`} type=\"submit\" disabled={!isValid}>Создать</button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction DeleteCardConfirmPopup({onDeleteCardSubmit, card, ...props}) {\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onDeleteCardSubmit(card);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"confirm-delete-card\"\r\n      title=\"Вы уверены?\"\r\n      onSubmit={handleSubmit}\r\n      {...props}\r\n    >\r\n      <button className=\"popup__submit-btn\" type=\"submit\">Да</button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default DeleteCardConfirmPopup;\r\n","import React from 'react';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport ImagePopup from './ImagePopup.js';\nimport api from '../utils/api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport DeleteCardConfirmPopup from './DeleteCardConfirmPopup.js';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState(null);\n  const [cards, setCards] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(true);\n  const isDeleteCardConfirmPopupOpen = selectedCard?.action === 'delete';\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard(null);\n  }\n\n  function handleUpdateUser(newUserData) {\n    api.updateUserData(newUserData)\n      .then((userData) => {\n        setCurrentUser(userData);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleUpdateAvatar(newAvatar) {\n    api.updateAvatar(newAvatar)\n      .then((userData) => {\n        setCurrentUser(userData);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleAddPlaceSubmit(newCard) {\n    api.addCard(newCard)\n      .then((card) => {\n        setCards([card, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleCardLike(targetCard, isLiked) {\n    api.changeLikeCardStatus(targetCard._id, !isLiked)\n      .then(newCard => {\n        setCards((state) => state.map(card => card._id === targetCard._id ? newCard : card))\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardDelete(targetCard) {\n    api.deleteCard(targetCard._id)\n      .then(() => {\n        setCards((state) => state.filter(card => card._id !== targetCard._id));\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  React.useEffect(() => {\n    Promise.all([\n      api.getUserData('/users/me'),\n      api.getInitialCards('/cards')\n    ])\n      .then(([userData, initialCards]) => {\n        setCurrentUser(userData);\n        setCards(initialCards);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header />\n      <Main\n        isLoading={isLoading}\n        cards={cards}\n        onEditAvatar={handleEditAvatarClick}\n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddPlaceClick}\n        onCardClick={handleCardClick}\n        onCardLike={handleCardLike}\n        onCardDelete={handleCardDelete}\n      />\n      <Footer />\n\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlaceSubmit={handleAddPlaceSubmit} />\n\n      <DeleteCardConfirmPopup\n        card={selectedCard}\n        isOpen={isDeleteCardConfirmPopupOpen}\n        onClose={closeAllPopups}\n        onDeleteCardSubmit={handleCardDelete}\n      />\n\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.querySelector('.root')\n);\n"],"sourceRoot":""}